import { createSlice, PayloadAction } from "@reduxjs/toolkit";
import {Article} from '@/types/article'
type ArticlesState = {
  articles: Article[];
};

const initialState: ArticlesState = {
  articles: [
  {
    id: 1,
    title: "Как работает портальная пушка",
    excerpt: "Научный разбор технологии межпространственных путешествий",
    content: `
      <h2 id="princip-raboty">Принцип работы</h2>
      <p>Портальная пушка Рика использует квантовую механику для создания стабильных червоточин между измерениями. Основной компонент - концентрированная темная материя, которая стабилизирует портал примерно на 4 земных часа. Устройство потребляет энергию из микро-сингулярности, что позволяет ему быть компактным.</p>
      
      <h2 id="tehnologii">Ключевые технологии</h2>
      <p>В основе лежат три прорывных технологии: квантовая декогеренция (преодоление парадокса наблюдателя), плазменные конденсаторы (управление энергией) и алгоритм Морти (для навигации между измерениями). Интересно, что Рик усовершенствовал оригинальную разработку Птичьей личности, добавив систему фильтрации опасных вселенных.</p>
      
      <h2 id="ogranicheniya">Ограничения</h2>
      <p>Пушка не работает в "зеленых зонах" - измерениях под защитой Совета Риков. Также требуется регулярная забота карманного измерения (раз в 30 использований). В редких случаях может произойти квантовое залипание, требующее перезагрузки.</p>
    `,
    headings: [
      { id: 'princip-raboty', text: 'Принцип работы' },
      { id: 'tehnologii', text: 'Ключевые технологии' },
      { id: 'ogranicheniya', text: 'Ограничения' }
    ],
    category: "Наука",
    slug: "kak-rabotaet-portalnaya-pushka",
    publishedAt: "2023-10-15",
    image: "/images/portal-gun.jpg"
  },
  {
    id: 2,
    title: "Все измерения Рика",
    excerpt: "Полный гид по мультивселенной C-137",
    content: `
      <h2 id="centralnaya-finita">Центральная конечная кривая</h2>
      <p>Это основное скопление измерений, где сосредоточены "разумные" версии Риков. Включает 27 основных вселенных, соединенных межпространственными магистралями. C-137 считается эталонным измерением, хотя сам Рик отрицает это.</p>
      
      <h2 id="alternativnye-zony">Альтернативные зоны</h2>
      <p>Включают: Мир кабачков (измерение 4J-7), Вселенную без телефонов (T-889), Парадоксальный кластер (где все Рики - Морти). Особо опасна Зона Кроненбергов - измерения, полностью зараженные вирусом.</p>
      
      <h2 id="zapretnye-izmereniya">Запретные измерения</h2>
      <p>Совет Риков ограничил доступ к 6 измерениям, включая: Мир истинной любви (вызывает квантовую депрессию), Измерение бесконечного застолья (нарушает метаболизм) и печально известное Измерение 35С - там правят Джерри.</p>
    `,
    headings: [
      { id: 'centralnaya-finita', text: 'Центральная конечная кривая' },
      { id: 'alternativnye-zony', text: 'Альтернативные зоны' },
      { id: 'zapretnye-izmereniya', text: 'Запретные измерения' }
    ],
    category: "Гайды",
    slug: "vse-izmereniya-rika",
    publishedAt: "2023-11-20",
    image: "/images/dimensions.jpg"
  },
  {
    id: 3,
    title: "Лучшие цитаты Рика",
    excerpt: "Сборник самых саркастичных высказываний",
    content: `
      <h2 id="nauka-i-tehnologii">Наука и технологии</h2>
      <p>"Что такое ученый? Это просто ребенок, которого не забрали из песочницы." (о своих изобретениях). "Гравитация - это паранойя вселенной, просто перестань верить в нее." (во время полета без устройств).</p>
      
      <h2 id="zhiznennye-citati">Жизненные цитаты</h2>
      <p>"Никто не существует по назначению, никто никуда не принадлежит, все умрут. Смотри телевизор." (утешая Морти). "Любовь - это просто химия, но я могу превратить ее в математику." (на День Святого Валентина).</p>
      
      <h2 id="sovety-morti">Советы Морти</h2>
      <p>"Перестань просить меня объяснять! Я объяснял, ты не слушал, теперь страдай." (после квантового инцидента). "Если тебе кажется, что что-то опасно - это в 4 раза опаснее, чем ты думаешь. Это правило Рика №1."</p>
    `,
    headings: [
      { id: 'nauka-i-tehnologii', text: 'Наука и технологии' },
      { id: 'zhiznennye-citati', text: 'Жизненные цитаты' },
      { id: 'sovety-morti', text: 'Советы Морти' }
    ],
    category: "Цитаты",
    slug: "luchshie-tsitaty-rika",
    publishedAt: "2023-12-05",
    image: "/images/rick-quotes.jpg"
  },
  {
    id: 4,
    title: "Эволюция Морти",
    excerpt: "От робкого подростка к уверенному агенту",
    content: `
      <h2 id="etapy-razvitiya">Этапы развития</h2>
      <p>Сезон 1: Полная зависимость от Рика. Сезон 3: Первые попытки бунта. Сезон 5: Осознание своей силы ("Морти-поезд"). Сезон 7: Полная автономия - случай с Evil Morty показал его потенциал.</p>
      
      <h2 id="klyuchevye-momenty">Ключевые моменты</h2>
      <p>Эпизод "Rickmancing the Stone" - первый раз, когда Морти взял инициативу. "The Vat of Acid" - демонстрация креативности. Финал 5 сезона - окончательный разрыв с ролью "глупого внука".</p>
      
      <h2 id="psihologiya">Психология персонажа</h2>
      <p>Анализ показывает: Морти страдает от квантового когнитивного диссонанса (разрыва между реальностями). Его "тупость" - защитный механизм. В глубине он гений адаптации, что доказано в эпизоде с мини-вселенными.</p>
    `,
    headings: [
      { id: 'etapy-razvitiya', text: 'Этапы развития' },
      { id: 'klyuchevye-momenty', text: 'Ключевые моменты' },
      { id: 'psihologiya', text: 'Психология персонажа' }
    ],
    category: "Персонажи",
    slug: "evolyutsiya-morti",
    publishedAt: "2024-01-12",
    image: "/images/morty-evolution.jpg"
  }
]
};

const articlesSlice = createSlice({
  name: "articles",
  initialState,
  reducers: {
    setArticles(state, action: PayloadAction<Article[]>) {
      state.articles = action.payload;
    },
    addArticle(state, action: PayloadAction<Article>) {
      state.articles.push(action.payload);
    },
  },
});

export const { setArticles, addArticle } = articlesSlice.actions;
export default articlesSlice.reducer;
export type { Article };